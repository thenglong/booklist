{"version":3,"sources":["components/Book.jsx","components/BookList.jsx","components/Pagination.jsx","utils/utils.js","components/BookDetails.jsx","components/BooksPerPage.jsx","utils/index.js","App.jsx","reportWebVitals.js","index.js"],"names":["Book","book","handleBookSelection","className","onClick","title","author","language","BookList","books","loading","map","Math","random","toString","substring","Pagination","totalPages","handlePageNumChange","currentPage","console","log","allPages","start","end","result","i","push","getRange","pageNum","BookDetails","src","process","imageLink","alt","year","country","pages","href","link","target","rel","BooksPerPage","booksPerPage","handleBooksPerPageChange","onChange","e","a","value","ax","axios","create","baseURL","populateData","get","data","getCurrentBooks","booksPerPages","indexOfLastBook","indexOfFirstBook","slice","App","useState","setLoading","setBooks","setCurrentPage","setBooksPerPage","setTotalPages","currentBookDetails","setCurrentBookDetails","useEffect","then","ceil","length","catch","err","size","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8999fd5.chunk.js","sourcesContent":["import \"./Book.css\";\r\n\r\nexport default function Book({ book, handleBookSelection }) {\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"list-group-item list-group-item-action book\"\r\n                onClick={() => handleBookSelection(book)}\r\n            >\r\n                <div className=\"d-flex w-100 justify-content-between mb-2\">\r\n                    <h5 className=\"mb-1\">{book.title}</h5>\r\n                    <small className=\"pt-1\">\r\n                        By <span className=\"fw-bold\">{book.author}</span>\r\n                    </small>\r\n                </div>\r\n                <small>\r\n                    Language: <span className=\"fst-italic fs-6\">{book.language}</span>\r\n                </small>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import Book from \"./Book\";\r\n\r\nimport \"./BookList.css\";\r\n\r\nexport default function BookList({ books, loading, handleBookSelection }) {\r\n    return (\r\n        <div className=\"list-group book-list\">\r\n            {loading ? (\r\n                <div className=\"d-flex justify-content-center align-items-center h-100\">\r\n                    <p className=\"h4\">Loading...</p>\r\n                </div>\r\n            ) : (\r\n                books.map(book => (\r\n                    <Book\r\n                        key={`${Math.random().toString(36)}${Math.random().toString(36)}`.substring(\r\n                            13\r\n                        )}\r\n                        book={book}\r\n                        handleBookSelection={handleBookSelection}\r\n                    />\r\n                ))\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { getRange } from \"../utils/utils\";\r\n\r\nimport \"./Pagination.css\";\r\n\r\nexport default function Pagination({ totalPages, handlePageNumChange, currentPage }) {\r\n    console.log(\"total pages from pagination\", totalPages);\r\n    const allPages = getRange(1, totalPages);\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center justify-content-center pagination-container mt-4\">\r\n            <nav className=\"m-0 p-0\">\r\n                <ul className=\"pagination\">\r\n                    {/* render previos page button if it's not the first page */}\r\n                    {currentPage !== 1 && totalPages > 1 ? (\r\n                        <li\r\n                            className=\"page-item\"\r\n                            onClick={() => handlePageNumChange(currentPage - 1)}\r\n                        >\r\n                            <div className=\"page-link\">\r\n                                <span>«</span>\r\n                            </div>\r\n                        </li>\r\n                    ) : null}\r\n\r\n                    {/* insert all page into pagination and mart the active one */}\r\n                    {allPages.map(pageNum => {\r\n                        return pageNum === currentPage ? (\r\n                            <li className=\"page-item active\" key={pageNum}>\r\n                                <div className=\"page-link\">{pageNum}</div>\r\n                            </li>\r\n                        ) : (\r\n                            <li\r\n                                className=\"page-item\"\r\n                                key={pageNum}\r\n                                onClick={() => handlePageNumChange(pageNum)}\r\n                            >\r\n                                <div className=\"page-link\">{pageNum}</div>\r\n                            </li>\r\n                        );\r\n                    })}\r\n\r\n                    {/* render next page button if it's not the last page */}\r\n                    {currentPage !== totalPages && totalPages > 1 ? (\r\n                        <li\r\n                            className=\"page-item\"\r\n                            onClick={() => handlePageNumChange(currentPage + 1)}\r\n                        >\r\n                            <div className=\"page-link\">\r\n                                <span>»</span>\r\n                            </div>\r\n                        </li>\r\n                    ) : null}\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst session_url = \"http://assignment-be.jaksmok.com/api/v1/\";\r\nconst username = \"sampleId\";\r\nconst password = \"Secret\";\r\n\r\n/**\r\n * Promise: return books data fetch from api with optional options\r\n *\r\n */\r\nconst populateData = async (opts = { size: undefined, page: undefined }) => {\r\n    if (opts[\"page\"] && opts[\"size\"])\r\n        return await (\r\n            await axios.get(session_url + \"books\", {\r\n                auth: { username, password },\r\n                params: { page: opts.page, size: opts.size },\r\n            })\r\n        ).data;\r\n    if (opts[\"page\"])\r\n        return await (\r\n            await axios.get(session_url + \"books\", {\r\n                auth: { username, password },\r\n                params: { page: opts.page },\r\n            }) \r\n        ).data;\r\n    else if (opts[\"size\"]) {\r\n        console.log(\"right condition\");\r\n        return await (\r\n            await axios.get(session_url + \"books\", {\r\n                auth: { username, password },\r\n                params: { size: opts.size },\r\n            })\r\n        ).data;\r\n    } else\r\n        return await (await axios.get(session_url + \"books\", { auth: { username, password } }))\r\n            .data;\r\n};\r\n\r\n/**\r\n * Promise: return a book data fetch from api by specific id\r\n *\r\n */\r\nconst getBookById = async BookId => {\r\n    return await (\r\n        await axios.get(session_url + \"books/\" + BookId, { auth: { username, password } })\r\n    ).data;\r\n};\r\n\r\n/**\r\n * Retern an array that include all numbers in range\r\n *\r\n * @param {number} start The starting value\r\n * @param {number} end The ending value\r\n * @returns {[]} [...rangeFromStartToEndInclusive]\r\n */\r\nconst getRange = (start, end) => {\r\n    const result = [];\r\n    for (let i = start; i <= end; i++) result.push(i);\r\n    return result;\r\n};\r\n\r\nexport { populateData, getBookById, getRange };\r\n","import \"./BookDetails.css\";\r\n\r\nexport default function BookDetails({ book }) {\r\n    return book ? (\r\n        <div className=\"col h-100 p-0 rounded overflow-hidden ms-4 book-details-container\">\r\n            <div className=\"d-flex h-50 p-3 book-details-header\">\r\n                <img\r\n                    className=\"img-thumbnail h-100\"\r\n                    src={process.env.PUBLIC_URL + \"/\" + book.imageLink}\r\n                    alt={book.title}\r\n                />\r\n                <div className=\"mx-4 d-flex flex-column justify-content-center\">\r\n                    <h3 className=\"fw-bold h1 book-details-title\">{book.title}</h3>\r\n                    <hr />\r\n                    <small className=\"text-muted fw-bold\">\r\n                        By <span className=\"text-dark fst-italic\">{book.author}</span>\r\n                    </small>\r\n                    <small className=\"text-muted fw-bold\">\r\n                        Year <span className=\"text-dark fst-italic\">{book.year}</span>\r\n                    </small>\r\n                    <small className=\"text-muted fw-bold\">\r\n                        Language <span className=\"text-dark fst-italic\">{book.language}</span>\r\n                    </small>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-3 h-50 d-flex flex-column book-details-content\">\r\n                <small className=\"text-muted fw-bold my-2\">\r\n                    Country <span className=\"text-dark fst-italic\">{book.country}</span>\r\n                </small>\r\n                <small className=\"text-muted fw-bold my-2\">\r\n                    Total Pages <span className=\"text-dark fst-italic\">{book.pages}</span>\r\n                </small>\r\n                <a className=\"fst-italic\" href={book.link} target=\"_blank\" rel=\"noreferrer\">\r\n                    More details on wikipedia\r\n                </a>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <div className=\"col h-100 p-0 rounded overflow-hidden ms-4 d-flex justify-content-center align-items-center book-details-null\">\r\n            <h6 className=\"h2\">Select A Book in the list to see detail.</h6>\r\n        </div>\r\n    );\r\n}\r\n","import \"./BooksPerPage.css\";\r\n\r\nexport default function BooksPerPage({ booksPerPage, handleBooksPerPageChange }) {\r\n    const onChange = async e => {\r\n        handleBooksPerPageChange(e.target.value);\r\n    };\r\n    return (\r\n        <div className=\"d-flex w-100 justify-content-between align-items-center mb-2 book-list-header\">\r\n            <h3 className=\"text-decoration-underline\">Book List</h3>\r\n\r\n            <div className=\"input-group w-auto\">\r\n                <span className=\"input-group-text\">Books per pages</span>\r\n                <select\r\n                    className=\"form-control form-select books-per-pages\"\r\n                    value={booksPerPage}\r\n                    onChange={onChange}\r\n                >\r\n                    <option value={10}>10</option>\r\n                    <option value={20}>20</option>\r\n                    <option value={30}>30</option>\r\n                    <option value={40}>40</option>\r\n                    <option value={50}>50</option>\r\n                    <option value={60}>60</option>\r\n                    <option value={70}>70</option>\r\n                    <option value={80}>80</option>\r\n                    <option value={90}>90</option>\r\n                    <option value={100}>100</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst ax = axios.create({\r\n    baseURL: process.env.PUBLIC_URL || \"http://localhost:3000\",\r\n});\r\n\r\nexport const populateData = async () => await (await ax.get(\"/books.json\")).data;\r\n\r\nexport const getCurrentBooks = (books, currentPage = 1, booksPerPages = 20) => {\r\n    const indexOfLastBook = currentPage * booksPerPages;\r\n    const indexOfFirstBook = indexOfLastBook - booksPerPages;\r\n    return books.slice(indexOfFirstBook, indexOfLastBook);\r\n};\r\n","import { useState, useEffect } from \"react\";\n\nimport BookList from \"./components/BookList\";\nimport Pagination from \"./components/Pagination\";\nimport BookDetials from \"./components/BookDetails\";\nimport BooksPerPage from \"./components/BooksPerPage\";\n\nimport { populateData, getCurrentBooks } from \"./utils\";\n\nimport \"./App.css\";\n\nexport default function App() {\n    const [loading, setLoading] = useState(true);\n    const [books, setBooks] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [booksPerPage, setBooksPerPage] = useState(20);\n    const [totalPages, setTotalPages] = useState(0);\n    const [currentBookDetails, setCurrentBookDetails] = useState(null);\n\n    useEffect(() => {\n        populateData()\n            .then(books => {\n                setBooks(getCurrentBooks(books, currentPage, booksPerPage));\n                setTotalPages(Math.ceil(books.length / booksPerPage));\n                setLoading(false);\n            })\n            .catch(err => console.log(err));\n    }, []);\n\n    /**\n     * Handle Books Per Page Change\n     */\n    const handleBooksPerPageChange = async size => {\n        setLoading(true);\n        setBooksPerPage(size);\n        const books = await populateData();\n        setBooks(getCurrentBooks(books, 1, size));\n        setCurrentPage(1);\n        setTotalPages(Math.ceil(books.length / size));\n        setLoading(false);\n    };\n\n    /**\n     * Handle Pagination Number Click Change\n     */\n    const handlePageNumChange = async pageNum => {\n        setLoading(true);\n        const books = await populateData();\n\n        setCurrentPage(pageNum);\n        //* tofix\n        setBooks(getCurrentBooks(books, pageNum, booksPerPage));\n        setLoading(false);\n    };\n\n    /**\n     * Handle Book Click\n     */\n    const handleBookSelection = async book => {\n        setCurrentBookDetails(book);\n    };\n\n    return (\n        <>\n            <div className=\"container py-5 main-container\">\n                <div className=\"row h-100 rounded\">\n                    <div className=\"col-5 h-100 px-0\">\n                        <div className=\"book-list--header-container\">\n                            <BooksPerPage\n                                booksPerPage={booksPerPage}\n                                setBooksPerPage={setBooksPerPage}\n                                handleBooksPerPageChange={handleBooksPerPageChange}\n                            />\n\n                            <BookList\n                                books={books}\n                                loading={loading}\n                                handleBookSelection={handleBookSelection}\n                            />\n                        </div>\n\n                        <Pagination\n                            totalPages={totalPages}\n                            currentPage={currentPage}\n                            handlePageNumChange={handlePageNumChange}\n                        />\n                    </div>\n                    <BookDetials book={currentBookDetails} />\n                </div>\n            </div>\n\n            <div className=\"bg-secondary footer\"></div>\n        </>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}